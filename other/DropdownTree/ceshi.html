<!DOCTYPE html>
<html>

<head>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <title>
        Dropdown Tree
    </title>
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="dropdowntree.css">

</head>

<body>
    <div id="mapCombobox" class="mapCombobox">
        <div class="dropdown dropdown-tree" id="firstDropDownTree"></div>
    </div>

    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="bootstrap.min.js"></script>
    <script src="dropdowntree.js"></script>


    <script>
        var arr = [{
            title: "设备1"
        }, {
            title: "设备2"
        }, {
            title: "设备3"
        }, {
            title: "设备4"
        }, {
            title: "设备5"
        }];

        var options = {
                title: "设备1",
                data: arr,
                maxHeight: 300,
                //点击事件
                clickHandler: function(element) {
                    //element:被点击元素
                    $("#firstDropDownTree").SetTitle($(element).find("a").first().text()); //更新选择框的内容
                },
                //选中事件，前面打钩
                checkHandler: function(element, e, checked) {
                    //element:被选中元素
                    //e:被选中元素的一些信息
                    //checked:被点元素状态
                    $("#firstDropDownTree").SetTitle($(element).find("a").first().text()); //更新选择框的内容
                    if (checked) {
                        console.log('被选中的', element)
                    } else {
                        console.log('取消选中的', element)
                    }
                },
                closedArrow: '<i class="fa fa-caret-right" aria-hidden="true"></i>',
                openedArrow: '<i class="fa fa-caret-down" aria-hidden="true"></i>',
                multiSelect: true,
                selectChildren: true,
            }
            //初始化
        $("#firstDropDownTree").DropDownTree(options);
    </script>

    <script>
        var s = {
            DetectionNumDateTimer: null,
            DetectionNumDateArray: [1, 2, 3, 4],
            setDetectionNumDate: function() {
                var $this = ssgHomeFunPlugin;
                var random = $this.DetectionNumDateArray.map(function(v, i, a) {
                    var r = Math.round(Math.random() * 5);
                    return v + r;
                });
                $this.DetectionNumDateArray = random;
                clearTimeout($this.DetectionNumDateTimer);
                $this.DetectionNumDateTimer = setTimeout(function() {
                    $('#detection_num_1').html(random[0]);
                    $('#detection_num_2').html(random[1]);
                    $('#detection_num_3').html(random[2]);
                    $('#detection_num_4').html(random[3]);
                    $this.setDetectionNumDate();
                }, 60000)

            },
        }
    </script>
</body>

</html>