<html>

<head>
    <meta charset=“utf-8”>
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <meta http-equiv=“content-type” content=“text/html”>
    <META HTTP-EQUIV="Pragma" CONTENT="no-cache">
    <meta name=“viewport” content=“initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no,width=device-width” />

    <link rel="stylesheet" media="screen" href="css/zzsc.css" />
</head>
<form id="msform">
    <!-- progressbar -->
    <ul id="progressbar">
        <li class="active">账号设置</li>
        <li>头像上传</li>
        <!-- <li>Personal Details</li> -->
    </ul>
    <!-- fieldsets -->
    <fieldset>
        <h2 class="fs-title">填写信息</h2>
        <h3 class="fs-subtitle">设置您的账号信息</h3>
        <input type="text" name="email" placeholder="邮箱" />
        <input type="password" name="pass" placeholder="密码" />
        <input type="password" name="cpass" placeholder="确认密码" />
        <input type="button" name="next" class="next action-button" value="下一步" />
    </fieldset>
    <fieldset>
        <h2 class="fs-title">上传图片</h2>
        <h3 class="fs-subtitle">点击方框进行图片上传</h3>
        <!-- <input type="text" name="twitter" placeholder="Twitter" />
        <input type="text" name="facebook" placeholder="Facebook" />
		<input type="text" name="gplus" placeholder="Google Plus" /> -->
        <div class="fs-upload">
            <div class="fs-uploadImg">
                <img id="fs-img" src="11.jpg" alt="" style="height: 100%;width: 100%;">
                <input type="file" class="fs-uploadInput" accept=".jpg,.jpeg,.png,.gif,.bmp,.tiff" onchange="fileC(this)">
            </div>
        </div>
        <input type="button" name="previous" class="previous action-button" value="返回" />
        <!-- <input type="button" name="next" class="next action-button" value="Next" /> -->
        <input type="submit" name="submit" class="submit action-button" value="确认" />
    </fieldset>
</form>
<script src="http://www.jq22.com/jquery/1.9.1/jquery.min.js"></script>
<script src="js/jquery.easing.min.js" type="text/javascript"></script>
<script src="js/zzsc.js" type="text/javascript"></script>
<script>
    //创建新的input
    var newInput = '<input name="file" class="fs-uploadInput" accept=".jpg,.jpeg,.png,.gif,.bmp,.tiff" type="file"  onchange="fileC(this)">';

    //监听文件上传
    // $('.fs-uploadInput').change(fileC);

    function fileC(e) {
        var reads = new FileReader();
        var f = $(e)[0].files[0];
        reads.readAsDataURL(f);
        reads.onload = function(e) {
            $('#fs-img').attr('src', this.result);
        };
        //替换该input：在每次设置完input的file值后，重置该input，可以防止change多次触发，并且可以上传同样的文件
        $(e).replaceWith(newInput);
    }
</script>

</html>